{% extends 'admin/edit.html.twig' %}

{# override javascript includes #}
{% block javascripts %}
    {{ parent() }}
<script type="text/javascript">
  jQuery(document).ready(function() {
    {% if  admin.id(admin.subject) %}
    var vehicleMaintenance =  jQuery('#sonata-ba-field-container-{{ form.vehicleMaintenances.vars.id }}');
    var numberOfVehicleMaintenances = {{ form.vehicleMaintenances.vars.data.count }};
    console.log(numberOfVehicleMaintenances);
    for (let i = 0; i < numberOfVehicleMaintenances; i++) {
      var currentLine = jQuery('#{{ form.vehicleMaintenances.vars.id }}_' + i + '_enabled');
      console.log(currentLine.prop('checked'));
      if (currentLine.prop('checked') === false) {
        currentLine.parent().parent().parent().parent().parent().addClass('hidden');
      }
    }
    {% endif %}
  });
</script>
{% endblock %}
