{% extends 'admin/edit.html.twig' %}

{# override javascript includes #}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/fosjsrouting/js/router.min.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>

    <script type="text/javascript">
      console.log('Hey');
        jQuery(document).ready(function() {
                var payslipsTable = jQuery('#sonata-ba-field-container-{{ form.payslips.vars.id }}');
                var numberOfPayslips = {{ form.payslips.vars.data.count }};
                console.log(payslipsTable);
                //TODO add edit link button
                {#for (let i = 0; i < numberOfPayslips; i++) {#}
                {#    jQuery('#{{ form.payslips.vars.id }}_' + i + '_saleItem').change(function(event) {#}
                {#            var saleItemId = parseInt(event.val);#}
                {#            updatePriceAndQuantityDeliveryNoteLine(i, saleItemId);#}
                {#    }#}
                {#    );#}
                {#}#}
        });
    </script>
{% endblock %}
